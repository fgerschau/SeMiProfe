extends ./layout
include ./mixins/achievements
include ./mixins/review
block head
  link(href="css/profile.css" rel="stylesheet")
  link(href="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.5.1/fullcalendar.min.css" rel="stylesheet" )
block body
  .row
    .col-md-6
      h2 Mi perfil
      br
      h4 Nombre
      p= user.firstName
      h4 Correo electrónico
      p= user.email
      h4 Comunidad
      p= user.state
      h4 Ciudad
      p= user.town
      h4 Tipo de perfil
      - if (user.isTeacher) {
        p Profesor
      - } else {
        p Alumno
      - }
      - if (user.language) {
        h4 Idioma
        p= user.language
      - }
    .col-md-6(style="margin-top: 4em")
      +achievements()
      img(src="images/favicon.png" width="335px" height="261px")
  - if (user.isTeacher) {
    .row
      .col-md-5
        - var selectedUserString = JSON.stringify(selectedUser);
        div(ng-controller="availabilityController"  ng-init='init(' + selectedUserString + ')')
          #event-add
            button.btn.btn-primary#addAvailabilityButton Añadir disponibilidad
            #form
              form(name="availability-form" ng-submit="submitCalendarForm()")
                p Inicio:
                input.form-control(name="start" type="datetime-local" style="width: 95%" ng-model="form.start")
                p Fin:
                input.form-control(name="end" type="datetime-local" style="width: 95%" ng-model="form.end")
                input.btn.btn-primary(type="submit" style="margin-left: auto; margin-right: auto; margin-top: 5px;")
          #event-delete ¿Desea cambiar la disponibilidad?
            p(id="event-delete-info")
            button.btn.btn-danger#event-delete-button Eliminar del calendario
      .col-md-12
        #calendar
  - }

block scripts
  script(src="https://momentjs.com/downloads/moment.js")
  script(src="https://code.jquery.com/jquery-3.2.1.min.js")
  script(src="http://code.jquery.com/ui/1.11.1/jquery-ui.min.js")
  script(src="https://cdnjs.cloudflare.com/ajax/libs/fullcalendar/3.5.1/fullcalendar.min.js")
  script(src="js/controllers/availability.js")
  script(src="js/controllers/achievements.js")
  script(src="js/services/availability.js")
  script(src="js/services/user.js")
  script(src="js/screens/availability-form.js")
  script(src="js/screens/locale-all.js")
